COMPOSE_PROJECT_NAME=sentry-self-hosted
SENTRY_EVENT_RETENTION_DAYS=90
# You can either use a port number or an IP:PORT combo for SENTRY_BIND
# See https://docs.docker.com/compose/compose-file/#ports for more
SENTRY_BIND=9000
# Set SENTRY_MAIL_HOST to a valid FQDN (host/domain name) to be able to send emails!
# SENTRY_MAIL_HOST=example.com
SENTRY_IMAGE=getsentry/sentry:nightly
SNUBA_IMAGE=getsentry/snuba:nightly
RELAY_IMAGE=getsentry/relay:nightly
SYMBOLICATOR_IMAGE=getsentry/symbolicator:nightly

# Sentry SaaS uses stock Yandex ClickHouse, but they don't provide images that
# support ARM, which is relevant especially for Apple M1 laptops, Sentry's
# standard developer environment. As a workaround, you can manually toggle the
# following to get an ARM build from an alternative-but-reputable vendor.

# See https://github.com/getsentry/self-hosted/issues/1385#issuecomment-1101824274

CLICKHOUSE_IMAGE=yandex/clickhouse-server:20.3.9.70
#CLICKHOUSE_IMAGE=altinity/clickhouse-server:20.10.1.4844-testing-arm
# tl;dr ^^^ Uncomment this on ARM.

# Images built on arm need to be tagged to use linux/arm64 on Apple silicon Macs.
# To work around this issue we configure the platform here

# See https://github.com/docker/cli/issues/3286 for the docker bug.
DOCKER_PLATFORM=linux/amd64
#DOCKER_PLATFORM=linux/arm64
# tl;dr ^^^ Uncomment this on ARM.

WAL2JSON_VERSION=latest
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=60s
HEALTHCHECK_RETRIES=5
